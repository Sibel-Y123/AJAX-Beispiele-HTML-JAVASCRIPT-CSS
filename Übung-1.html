<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8" />
    <title>Nachrichtenportal</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 30px auto;
            padding: 0 15px;
            background-color: #f9f9f9;
            color: #333;
        }


        h1 {

            color: #2c3e50;
            margin-top: 80px;
            font-weight: 700;
        }


        label {
            font-weight: 600;
            display: block;
            margin-top: 80px;
            color: #34495e;
        }

        select {
            width: 100%;
            max-width: 500px;
            padding: 10px 10px;
            font-size: 1rem;
            border: 1.5px solid #ccc;
            border-radius: 5px;
            outline-offset: 2px;
            transition: border-color 0.3s ease;
            cursor: pointer;
        }

        select:focus {
            border-color: #2980b9;
            box-shadow: 0 0 10px rgba(41, 128, 185, 0.5);
        }


        button#loadbutton {
            margin-top: 15px;
            padding: 10px 20px;
            background-color: #2980b9;
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }

        button#loadbutton:hover {
            background-color: #1f5f8b;
        }


        #newslist {
            margin-top: 30px;
        }


        .news-item {
            background-color: white;
            border-radius: 8px;
            padding: 18px 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: box-shadow 0.3s ease;
        }

        .news-item:hover {
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .news-item h3 a {
            text-decoration: none;
            color: #2980b9;
            font-size: 1.2rem;
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .news-item h3 a:hover {
            color: #1f5f8b;
            text-decoration: underline;
        }


        .news-item p {
            margin-top: 8px;
            line-height: 1.5;
            color: #555;
        }

        .date {
            margin-top: 12px;
            font-size: 0.85rem;
            color: #999;
            font-style: italic;
        }
    </style>
</head>

<body>
    <h1>Nachricht</h1>
    <label for="category">Bitte wählen Sie eine Nachricht aus</label>
    <select id="category">
        <option value="politics">Politik</option>
        <option value="business">Ökonomie</option>
        <option value="sports">Sport</option>
        <option value="health">Befinden</option>
        <option value="technology">Technologie</option>
    </select>
    <button id="loadbutton">Hier ist die Nachricht</button>
    <div id="newslist"></div>

    <script>
        const apiKey = "here write Your api key:";
        const newslist = document.getElementById("newslist");

        async function get_news(category) {
            const url = `https://newsapi.org/v2/top-headlines?country=tr&category=${category}&pageSize=10&apiKey=${apiKey}`;

            newslist.innerHTML = `<p>Wird geladen...</p>`;

            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error(`HTTP Fehler: ${response.status}`);
                const data = await response.json();  // from JSON to object

                if (!data.articles || data.articles.length === 0) {
                    newslist.innerHTML = `<p>In dieser Kategorie gibt es noch keine Nachrichten.</p>`;
                    return;
                }

                newslist.innerHTML = data.articles.map(item => {
                    const date = new Date(item.publishedAt).toLocaleString("de-DE", {
                        year: "numeric",
                        month: "long",
                        day: "numeric",
                        hour: "2-digit",
                        minute: "2-digit"
                    });

                    return `<div class="news-item">
                        <h3><a href="${item.url}" target="_blank">${item.title}</a></h3> 
                        <p>${item.description || ""}</p>  
                        <div class="date">Veröffentlichungsdatum: ${date}</div>  
                    </div>`;
                }).join('');  // for turning all arrays into  a string

            } catch (err) {
                newslist.innerHTML = `<p style="color:red;">Hier gibt es noch keine Nachrichten: ${err.message}</p>`;
            }
        }

        document.getElementById("loadbutton").addEventListener("click", () => {
            const category = document.getElementById("category").value;
            get_news(category);
        });

        get_news(document.getElementById("category").value);  
    </script>
</body>
</html>